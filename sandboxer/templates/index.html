<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Sandboxer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/static/style.css">
  <link rel="stylesheet" href="/static/vendor/xterm.min.css">
  <link rel="icon" href="/static/favicon.png">
  <script src="/static/vendor/xterm.min.js"></script>
  <script src="/static/vendor/addon-fit.min.js"></script>
  <script src="/static/vendor/addon-webgl.min.js"></script>
</head>
<body>

<header class="mobile-header">
  <button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>
  <span class="mobile-title">sandboxer</span>
  <button class="mobile-add-btn" onclick="createSession()">+</button>
</header>

<div class="sidebar-overlay" onclick="toggleSidebar()"></div>

<aside class="sidebar" id="sidebar">
  <div class="sidebar-row">
    <button class="sidebar-toggle" onclick="toggleSidebar()" title="Toggle sidebar">≡</button>
    <select id="folder-select" title="Folder">{{folder_options}}</select>
  </div>
  <div class="sidebar-row sidebar-buttons">
    <button class="btn-green" onclick="createSession('claude')">claude</button>
    <button class="btn-green" onclick="createSession('lazygit')">lazygit</button>
    <button class="btn-green" onclick="createSession('bash')">bash</button>
    <button class="btn-green" onclick="createSession('gemini')">gemini</button>
  </div>
  <ul class="sidebar-list" id="sidebarList">{{sidebar_sessions}}</ul>
  <div class="sidebar-bottom">
    <div class="sidebar-stats">
      <div class="stat" id="cpuStat">
        <div class="progress-bar"><div class="progress-fill"></div><span class="progress-text">cpu 0%</span></div>
      </div>
      <div class="stat" id="memStat">
        <div class="progress-bar"><div class="progress-fill"></div><span class="progress-text">mem 0%</span></div>
      </div>
    </div>
    <div class="sidebar-controls">
      <select id="col-select" title="Columns" onchange="setColumns(this.value)">
        <option value="1">1 col</option>
        <option value="2" selected>2 col</option>
        <option value="3">3 col</option>
      </select>
    </div>
    <div class="sidebar-actions">
      <button class="btn-teal" onclick="copySSH()" title="Copy SSH command">ssh</button>
      <button class="btn-red" onclick="killAllSessions()" title="Kill all visible sessions">kill</button>
    </div>
  </div>
</aside>

<main>
  <div class="grid">{{cards}}</div>
</main>

<footer class="footer">
  <span class="hint"><kbd>Tab</kbd> cycle folders</span>
  <span class="hint"><kbd>Ctrl-B d</kbd> detach tmux</span>
  <span class="hint"><kbd>Ctrl-B s</kbd> list sessions</span>
</footer>

<div id="toast"></div>
<script src="/static/app.js"></script>
</body>
</html>
